import fs from 'fs'

const instruction = `^v^<>>vv<<<^v>v>>^<v<>vvv^<<>^><^^vv>^>>>>>>v^<v^>v^>>>^v>vv<^<<vv>^<^>v>v>>>v<^>^^^>^><v^<>v<<^^vv^>><>^v>><<>v<vvv^^^v^<^><<^^v>v^>v^^^^v>^^>^>v>>vv^^>>v^v<<^vvv<v<v<>v>v^^<^v<^v<<v^>>^>v^<v>^vvv><><<vv><<>^<>^v><>^>^^>v<>v^<>v^<^v^v><>>>^>vvv<^>^v<^<>vvvv><v><<^^>^><<>^vv>^>>^<<><v>><>^<^vv^<vvvv>^<<^^v<v<^^^<^>v>^><^>^<><<><vv^^<v^>^^<v<^>>><<^>v^>^v>^^<>v<>>v^<<<^v^<<^v>^<^^v^^^v>>^>^v^^v>>v>>vv<^^^<<^v<^^v<^^>^v<v<>>^^<<^<v<^>>>>^<>><<>^><^<vv>>>vv^>^><>v<^v><>><v>><v^<v^<<^^vv^>>>v^<>v<<^<^<^^<>^^>v^<^v^<>vv^^<>^v>^^<<v^>vv^>^<v<<vv>^<<>>v<<^^><>>>^<>^v><vvvvvv>>^v^^>v^^vvv^^v^<<v^><<^>>^^<vv>v><>>^<>^vv>v^vv<<v>^<^<^<<<<v<>v^>vvv^><v>^<>>v^<>^^<^vv^<>^v<>v^^v<v>^<>v<v>^><><v<>v<v<<v^><^<v>v>^>>^>^^<><<v^^vv<v^<v><>vv^^vv>><v<<^>v>><^v<^v>vv<v>>^vv>>^<^<>^v>v>^>v^<<v>vv<<^^<^<^<>>>>^^><<v>>^>^>v><v^<vvv^<v^v>vv^vv^vvvv<<<^v^vv><^<^>^^<v<<vv>^^vv<>>>^>^><>v>^<^<vv<<>v>vv<>>^vv<v<^<<^<<><v<v<<>>^<^>>>^>>^>v^<^^v<v^><vv><^>^v^>v>vv<^v<<v<<v^^<^vv^<vvv<<><>v>v^v>vv<^v<vv<^^>v^><<v>>`+
`v<>>^^vv<>^v^<<^>><><>^vvvv^^><<<<^>v<>v>>>^>^>>>v>>>^^<>><<^^^^v<>><>v^>>vv^><<v<^><^^v^<v>v^>>>v><v><v>v<<v<>>v^<^<^vv>^v>vvv<^><><<>^^>v^v>vvv<^>>>>^^^^vv<>^vv>^<v<>^v>v^<>v<v<>>><v><vvvv^vv^^<<v>>>>v^vvvv^^><^^^<v^>><<^>^^><>^<v^<<v^v<^<^<vvv<<>>v>>^v>><^v<v<<^^><>>vv<><^<^^^>^v^^>v<^<^><<^v<v<v>v^>^<<<<>v^^^><>vv>^>v^>^>vvv>>><^>^<<><><>v>^<v>><>^^>v>^><^^vvv^^^>>vv<vv>vv><^<>>vvv^^><<>>vvvv^^><<>><>vv^^>v^^vv<><^>^>^<<><>>v^^<^^>>^<v>>^<^^v>^^^<v^v<<><v<v>><vvv>>v<>v>v^<<^v>>><>v><v<<v^v>^v^<^<>>v^vv>^<v><<<^v^>><^^>^^v><>^>^<>^<<^>v<^<<^v<v<>>v^^>^^>v<v>^v<<>^>v<><^<v>>v><v><^>vv<<v^^^^^<<><>>><v>>v>vvv<>v>^>^vvv><>^^^>v^<<<v>>v>^>>>>v^^v>v>>v^<^v<^v><<^v^>>^>^<<><<<<>^<v>^^>^^v^>><<^<^v>v>v<v>>>>v><>v<<v^^v>^>><^<^^v^>><>v^v^vv^^^><<^<>^vv>v<<>^v^^<>><>^^<v^v>v<v^<^>vvv><^^><^^>v<v^>^<<>^v<<<>>v<^<>^v^<^>vvvv<v>v>>^^vv^<^v><<>^^v>^<<>v^vv^<>><^^v^^^v^^<<<>v>^<>>>>vv^^>^>^v><<^^<>^^<<<<<<^^<^v<>^v><v^^>>vv^^vvv^v^>^v<>v>v^<v^v<^>^^v>^^v^vv<>v^><<v<<^<^^v<>^>^v<^vvvv>><>v<vvv>>><` +
`>v<^<^<>v><^<<<<v>^^<<v<^>^>v<<^><v>v<<<^^<<v^v<^>^v<><>^^>^^<<v<<vvv^^^>^v<vv><v>>v>v>^<v^<^^><v>^v^<^v<v<v>^>^><><^<<^><v<>>^vv>^<>v><v^v<<^<v><v^<^>v^><<<><<<<>v^>>^>>>^<vvvv>v<>^v^<>>vv<^^v^v^^^>v>^>><<^>v^<^v^^v<<<<>v>v<>v>^vv><^^v>^^v^^<^v^<<^<><<vv>v<>>v^<<><>v<v>v<<><<^<<<<vvv><>vv^>^^v^^^>>vv>^v<<v^>^vv<^v<><v<vv<>v^^v<^^v>vv<>>^^>^><v<vvvv><^<<>vvvv<<>^vv<vv<>^^<^><>v^<><v>v<^>v^v<<^vv^>v^^<v^^<v<v^v<<^vv^vv^^v<vv>^<><<^>v^>><<<><^<><><^>>>><v><<><<vv>v^>v<<^vv^><v^^<v>v<>v<v>v^vv><v^><v>>^><<<<v>^<<vv^<>v><v<^>^^^><^^<><v^<^>^^<v><<^<^>v>v>^^^^^^v^^^vv>^>^><><<<vv<vvvv^><v>v^<>^^>^<^v^>vv^<<<^v<>^>v<^vv<vv<<>v>^^vv^v^^^vv><<<>>><^v^<<^<>v^v<^<^<^^>v<<>>^<v^^>><v<v^v^^>^><v<<><>vvv<<^^^>>>v<<<>^<^<v>v>><v<<<v<><v>>>>v<^v>><^<^^<>>vv><^^v>><>^<v^><v^^vv^>^^^<>v<^>^<<<^>v^<^^>^v>^<^v^vv^><^>vvv>><<<v>><^>^^<^^<v<><>v^vvv><^<<v^<>v^<v^v^>v^vv<^vv>>^v<^^^>v>vv>vvvvvvv<^<<vvv<vv<>^<v^>vv<vv^^^^^<>>^^<vvv^^^>vvv<v>^<v>^<^>v<>^v>^<<<^>v>^<<>vvvvv><<^v>>>^v>^^<>><>>v^<>^^^><<vv<v<<^^` +
`v>v>v<<^>v^^>>>v><v><v>vv<^^<^>vv>v>><v^<<<v<<vv<>vv^<>v^v^v<vv^><>v>>^^v><<^^<^^><^v^vv><<^v><<<<<<^><^^^<^>><^v>><<<>^vv<^^v>^v>^v<v<<^<^<v^^><v<vv>>^>^>vv>>^>^<^vv^vv><<<^>^<>^><<v>^<vv^<>^<^<<>^^><<>>>v><v<<<v^<<><^^><<v<>^^^^>v>>^>>^v>vvvvv^v^vv<v>^^^<v^><v^>^<v>><^><^vv^v><^^<<v^<v>^>>>><v<>v<>v^^^v><^^v^^^><<^^>^>>^^v<^>^<v^v>>>>vv^^v>v^^><>v^^^>^^^>>>^>^<^vv>v><v>^^>>>^<^>vv<<vvv^v>v><>^<>^<vv^><vv>v^^^^vv<^><^<<<<>v<^>vvv<v^^v<vv^<v<>>^<<>v<v>>>v<<v^<vv<^>>^v^>vv<><>vv>v^^v>>v>^<>^<v>>^<>><v>>^<<><^>^>><^^^v><v^<>^^^<^v<><^^>^<v^<^v>^vv<^^v^^<><^<^vv^vv<^^vv<v^<v^>v<>vv^>^>vv><vv<<><<<>><v>><^<<<<v<>v<v^vv^<>v<^^<<^>>vv>v><>vv^<^<v^>>^v>>vv>^^><<>^>vvv<^>^>^<v><^^>^>^<><v>^<<>>v>v>vvv>^^^>>>^><^<>>>>><vv<^<>v>v><vvv<vv>^><<v><^^<vv^<v^>vvv<<><>v<>><v^><v<<vv<>^^v<v<v^><^<vvv>vv^><>vv>>>>v<><<v>>v^^<<>>>>v^><<v>><^v^<v^v<v>^v^<^^>v><<<vv^<^^v<<vv<v<^>v^<>v^<v>v<<vv^>><>^^>^vv^><v^^<vvv^vv>><^^v<><>^<>>><^<>v<>>^^<^<v<<<><>v^^vv>>>v^<v<^^^<v>>v<v<<vv<>><vv^v^>>>vv^^<^^>><>^v<>^v` +
`>^><>^vvv<^vv<>v^>^>^<^v>><>^vv^<vvv>>v<v<v^<^v>^<vv^^<v^^^^^^v<v><v>^^^^<>v<>v<<><>>><>>v<^<>>v^vvv<<vv^^^^<>>^>v<<v<^>>>vvv>>^v<^v<<vv^<v^v^<v<vv>v>^^>v<>^>v>>^>vv><<>v<v>>>v<^>^v^v^><>^v^v>^^>vvvvv>^vv^v>>v>v^v>>>vvvvv>>v^>^>^vv<>vvvv>>^^<<v>^>>v>v>^v<v<<v<<^^>^vv><>^v^<^^^<vv>^<vv><^<<<v<v><<<^<^v^<^<<^<v>^v^^<><>>>^>>^vv>^>v><v^<v<<<>>v^vv^>v>>^vvv<<>>^^^>vvv>>^^><v>^>><<>v^<>^>^<^^^v>>><<^v>>^><>>vv<>v<><<<<vvv^^<<^^<^v<><v^^^>v>>^^<v<>^<^<<v>>>v<vv>>^<>^v<^^^><<^<<^<<>vv<><v^^v><<<<v>v<<vvvvv^v><v^^v^>v<^<>^>^<^v<>><<^^^^>>^^>^<><v<<v^vv>^>v>^^^>v^<<^v<v>vv^><><v<^^v^<><>v<v>^^<v>><<>><^^<^^<<v>v<v^<^>><<<v<<><v><><v>vv<^>v<<^<^^<<<v>><<v>^>><^><v><>v><>v<<>^v>>^<v>v<<v<^^>><<vvvv^<v<v^<^>v<<>vv>^<>^<>><vv<^<>><v>^<<<v>>>vv<>^v>v>^v^>>vv<vv>>v^<><>^<<^<><<vv^<<><>v>^<<>^^^>>v><v><>><^v><<vv<<v>^<^vv^v><>>v^^^^vv><>^>>>^^><v><v><^v^vv^v<>>^<vv^v><<<^^>v<v^<^>>><v<>vv>>^<v<^vv<>>>v>><^v>v<><><^<<v>vv<^<>>>v^><<>^vv^^><>v^>v<>vv<v>^>><<><^>^^>vvv><<vv<v^v^^^>v^<^v>^v>^<<<>^vv<<<v><` +
`<<^^>^v>v^v^vv><>^>><<>v>>><<<><>>vv^<<>>>^^v^vvv>v>v^^v^^vvv<>^<v^^vv<^v^>v>>vv>v>><^><<<<<<>>v<>>^^><<<>^^v<<<^<v^^>><<^v><<v><^vv<vv>v>^^<v^>v>>><v>^<^<v^^<><v<>>^^<>>v>^<<vv>^>v<>>v>^<v<<<<<>vv^v<>>^^vv<^<v^<^vv<^vv>><vv><^<<>v^v^^><v^vv<<<v^<v><><v><^>><>><<^^^v<><<>v^<^vv^>v^^<^<^^^<vvvv<^<^v^<>><><<<vvv><>^<^v>^>v^vvv<^^v<>><<^^^<v>vv>>vvv<v>^^v<v^^v^>>^^<<v>><>v<vv^<>v^>v>vvv<^^>^><^>^v<v^vv<><>v>>v<<v>>^v>>vv^>>^^<<<>v^^>^v>>>^<>v<><<^<v^>>>vv<^>vv>v><<^>^>>>>><v<><v>v<<>v<^^^<<vv^<<v^^>>^^>v><<<>>^<>v<vv^^vv^v^vv^^<<v>v><><^><^v>^<v^v>v^>^^>^^^<v<>>v<<^^><<<^>v>v>>^<><^>vv>^v^<>v^^^v>v^vv><<<><<><<v^^v^>>>^><>>>v><<<<^<>><v^^^<>><v>^v^vv^v>^v<^<<vv^<v^v<^<vv<v^<^^><^<<>>><><v^^^v>^^v<><<<^>^<^>v<^vv>>>><<v^^><>v<v<<v^<^>><>vv^>^vvv<^^<^vv>^vv^v<<<><>v<>v<^^^v^<^><^<^<><>>^<>v<>>>^v^>>v^v><^<v<v<v><^>>v>v^v>^<^><<<>^<<>v^v^<v^v^vv>^^<v^<<<<<<^<^v^v<<^<>vv<>^<^<^<^><^^<^><^v><^<vv>^v^>v<vv<>v^^<<<>^<^<v^<^<^>v<^><^<>>vv>>vv<><^<^>>^^v^^><>>><<<>v>v^<<<<v>>v^<v>v>>^v^<^vvvv^^v><` +
`v<^v>v>^v^^<^>v^<>v^>^>v<<vvv^^<v<v^^^vv^>v>>^^>><^v<<>v<>><^v<<^<^<vvvv<>v<<<<<v^v<<vvvvvvv<>v>><>^^^vvv^><^<v<>^>vv>v>>^<><>^v<^<^vvvv<v<<><>v>^><<v^v>^>vvvv<<>>v^v>><v<v>v>>>v<>>^>^v<<^><<^<<>^<^<v^<<>v<<vv<<v><v^v>^v<<<>vv>vv^^><vvv<^<>^<<^>^^<<^>^<>>v^^>vv^<<>v<v>>v^^vv<^><^<vv>>v><vv^>^<v^v^<^vv<<^<v<<v>^>^v>>v^v<<vv^<>vvv>^v<>^^<^<^<^<^<vv^>>v<^v>^v^<>^^<>>><<>><<<^>^^<v><<<v^v^<<>^<<v<v<^>>>^vv<<><^><^v<<^<^^^<>v>^v<>v<^<^<<v<v<v<^><<>><<^vvv<^<<^<^^>v^^^vv>><>^^>v>v<v<><^vv<v^^v>^<<><><^<v<^^>>><<<<v>^v><^>>^<<^^<^>^v^>>><^>^^>v<>v<><<^^>^>^<v><vvv>^>>^^>>>>^><^^>vv<>^^>>>v<<<vv<^<<v^vv<v<<^^v<^v<v><<v><><><v^>^v<vv>v><v^<>><<>^>^<v^>^v>vvv>^v><vv^v^v<v>^>^vv<v<^^<<<^v^v>^^>^^^<v^v<^v<vv><<>^v>^><v^>v^vvv<^>vv>^<^<^vv^<>>vv>v>>^<v<v<<>^>>v<>><>^<<^^^vv<<<^v^^v^<^><v^v<>><^><<^><<^<>v^v^><v^^>v^><>^>><v>><<^v>^<>vv>>v^<<<v^<<v^v^^^<^<v<><>v<^vv<>vv<v^<>^><^<>>>^v^^>>v<>^^v>>>vv^<<>vv^<^^<<^<v><^^>vv^vv^<>^v<<>^<>^>>vv^vv^^>>v^v><<<>>>^><vv^>v<>v^^><<v^>v<<>^>>^>v>^<^>v^v^><^^v>` +
`^>vv^<><^^<>vvvvv<^<v^^v^<vv<^^^<<<>><^v><<<><<v<<<^^<vv>^v^^>^v^<>v<^>v^<<<^v^^^<v<v<v^<<<^v<<<<^^<^v>^>v^v<^^v>>>v^<<^<<><>^<>^<v<^<v<^^<v><v<v^>vvvvv>><^>v^^<vv<^^^>>^<><>^^<>vv>v<vv^><>^v^^v<^v^<^^<^<vvv<v>v>v>>^<^>>vv^<^><><>^^v^v^>^<>><vv>>v^vvv>^>^v>v>v^^<^>>v^v><<>><^<v><<>^><^<vv<<v^><^v<<><><<^>><v^<^<v<><<^v>vv<v>^>v<vvvv>>^>v<^^<>vv^<>v>>><^v^>>vv>>^v^vv^>>>>^vv>v>><<>><v^<>v><v^><^^>>>><^<<<v^<v>><v^v^^<^<^>><^vv><><<<vv<v><v^>vv>v>>>v^<>^><v<<<^<v>vv^^>^<<v<<<^^<<>^v<><<>vv<^>v<^^v<v>v^<v^vv<^vv<^^v^>v><^vv<v<><v>>v>v>^>^<v^<v>v>^^<v><^^<v^v^>>^<^^^^<vv<v><v<<>v^^>^<^^<<>v>vv<<^^<>^v>>>^<<^<v>>v>>^v<<><^<<<>^>>^>>^>v>^>v<><vv<^^^^vv>^v><><<vvv>vvvv^v>^><v^<^<v^>v^>><<v<v<^^><vvv^>>>v<>v<v^<vvvv^>^v>>^<v<^^><vv<>v^^><v^>^>v>^><>>>^>^>><^<v>>vv<>vv>^vv<>><><>^v^<<<<vv^v<<^><<vv<v<^>>>v<v<>><vv><<v^^v^<vv<>>v<>^v^>^^<<v<v<^<^>v^>v>^><^v>^^v>^^^<v><^vv<v<v>>^>v>^>^<<>v<vv>^v^<<<>v>^^v^>^vvv<<vvv>><^v<v<><^^>><v^v<vv^<v>v<vv^v<<v^>^^>><<>><v<^>vvv><v^^><^>>^v>v^v>>>^<^<<<v^^^v` +
`v<<v^<>vv><<v<<v^^>>v>^><<v^><<><>>vv<>>^<<<v>^<v>>^><<>>^>^^<vv>v^>v^<>>>^<v<<<v^<<^v^<>^<v^<>v<<<<<<>v<>><<>vv^^<>vvv^>^v>^<v^v^<v<^<>v^v^^^><v>^^><>^^v^^<^v<v^vv<^v>>^<vv<<v><v><v<><^^>><^v<>v^>v^^>>^^<^>><^v>vv<<^v>v^^<v^vv^>>^>^<^>><v<<v<<><^>>v>>^<^>>^>>>^^^>v<>^>>v<>><<^vvv><v^>>^^vvvv<v<>vv>>>v><<^v^<<vvv^><<<<v>^<<><>v><v<v^v>>^^>>v>^<<<v^^<<v>>v><>v<><^vv>^^>>v^^><^^>>>^>vv>^<>^^<^^v<<<<<^^v^v<>>^^v>><>>v><^v><<<<^<><>><><vv<^<<^<>>^<><<^>v>v<>^<<^>^<^^^>^v<<vv^<>>>v^<<^^>v>^vv>^^<vv<v^^>v><vvvv^^^v<>vv<v<^v^<^<^vv>^<v<><<<>^><v>v^^v>><<^v<^^>vv<v^>^>v^^><v<vv^^vv<^v>^><^^vv^<^^^vvv^v<<><vvv^<v>><<>>>>v>^v^vv<v>^>v>v<>v>^>^<^>^><>v^^<^<^<vvv^>^v<>><<<<^><><>^v^v^vvvv<<<<v<^^><vv^<^<^<^^vvv^>v^v>>^>v>^^^<^v<<<><>v>>v><>vv>^v>^^<<>^<<<>^><>>v^v<v><^^<<^^<>>><vv>v>^<<^<>>^vv^^^>^vv>>>v^>^>^<v^v<<<^<<v>^vv>vv^^v><<<<v><<v^vv^<><^<>vv<<v>>>v<v<<^<^^^v^v<<^>^<^>vv>^^<><v^v^<<^^<<>>><><<v<<><vv^vv>^v<>>v^^<>>^>>>v<^<^><v^v^>v>>^>>^v^^vv^<v>^><v>vvv>v><>^><<v>v^><><v^v<^v>v<v>>v>v>>^` +
`vv<<^v><<v^<^v<>>v<v^<^v^>v^^vvv^>vv>>^^>^<^>^^^v^v><vv<v^<<v^^>v^>^<>><^^v<<vv>v^<v>v^<^v^<<^^><v<>v^>^^<<^>>>^<v^>>vv<^^^^^^^<^<v^^>v^<^vv<^>vv<^vv>^<^<><^<<>>v><<>^<<^v^><<v^v^^>v^^>^>><v>v>^^<>><^>^^>^v^v<v>>vvv^>>^v^>><>><<^vvv<^^>v^<<v><>><>>^v^>^<<^<<^v<v>v<^^v>><v^<v<<v^<^v^v>^>v^<>>>vv^v^^vv^^<^vv<><<>v>>>^>^^<<^<><>><^>>>^v^<><>^^>>>><v<<vv^v<<><^>v>v>^<<v<vv<v<>vv^^<v>^^<>^><v>v^>^><^><^^^^v^v<v^><v>vvvv<><<<><v^^^^^v<<v>>>vv<v<>>^<>><<<v<^>^>>^<<<<^>^<^^v>><^v>>v^v><<^<^<<v>>>>^v^v<v^v<vv^^v<<>v>^>v<<v>^^v><><>^<v^><<<<>^^^^<<vv^^v<^<v^<<v^>^vvv<>>v>>>>v><^>v>^v>v<>>><>v^<<<<>v>^vv<^<<<>^>><^>v>v<<>>><^v><<<>v^v<v^><>^^><<<v^^>^v^^<vvv<v<<>v<^v^^^^<^v<<v<<vv<^<^>vvv><><^v>><><vv^<^^^<<v>>^v>>^<vvvv^^^>>^v>^v^<v^>^<^^^^^^<>v<>v>^<>v^v>^<^v>^<v<<^>vvvvv>^vvv<<>^v>>v>v^v<<v<^^>v^v<vv>^>vv<^>>vv^^>v^>v><v<<>>>^<>vv<>^^^v^<v><>^v<<>>v>vv<vv^^<>vv<<<>v>>^^^^v>^^>>><<^^>v>>^v<v>^<v<v<>v>><v>v>><>^^>>^<<v>^<<<vvv>vvv<>^^v><<<<<>^<vv^vv^>v^v^<>>^^>vv<><<<<v^<^vv^^^^v<v<>>^<<<>>>>^v>` +
`v<v^v^><vv<^v<v<^<v^vvvv^^v>^^<><vv<>>^vvv^v>^v>^vvv>>^<v^>^^>^^<>v>^^v>v^^vv><>>v<<><<<>^<^v>>^^^v><>^<^<<<^<^<v<<>><<^v^<<<^>>><v<><>^>>v<>>v>v<v><<<<^>^<^v>^<>^<v>v>v^^^><^>>><<v^><^<<v<v^<v<^v<<^>>>>vv^<>>>v<v<>^<^>v^<v^>vv<^><><v^^v<><^<<<><^v^>>^<^v^<><^>v^>><<v^<><^v>^<<vv>v<><<^^<^<<v>^^><^v><<>^<<>^>v<>v>v^<<^v^v><>>>v^v<v><^^<>><^v^<vv^<vv^<<><>v>^<v<>^<>>v^^<^<<>v<^^<>^^^v>^^v^^^<><v^v>v>>>><>v<v>>v><<^<>v^vv>v^<v<vv<v^^^^<^v^>v><^><^>>v<>^>^^^^^<<><^^v>v<><<vvv<^>^<>vv>v<>><^^<><>><v<v^v^<^^v<vv<<v<<<vv<v><v>v^>v^^<vv^^v<vvv>><vvvv>>v<v<<<><<v^^v<>^>^v>^^^>>^v^^>><<<v^><>^<v<^^^>>vvvv^><<^^^<>>^<v^vvvv^v^v<><<v<^^^vvv><>^<vv<>v<v<^v>vv<vv>>>>>^^vv^<^<<<>^><vv<^vvv>^^>><<<^><^v<v>v><>v<v<v^^v>^^<<v<^^^v<v<^>>^<><v^v<><<<><vv^^^^v><>vvv<v>>vv><vvv^<<^>v>v>>v<>^v^>vv>^>>v>^>>><><<>>^^<>>^><^<<^>^>vvv>>^vvv<>v><v>^vv<<>v<<>>^v<<^>>v>><>^^>v^^<^>>v><>v^>v<^<>>vv<^^>><vv<<v<>^^>vv^>^<v<v>vv<v^^^<>^><^^^>^v>^v<v<><><^<^<^<^v>v>^^><v>^>>>^v^v<>vv<v<>^^^^v>>v^>>><^>>v<<<^^<^>><v^v^v` +
`<<v>><v^v^^<<><v^<v<<><>vv^^<^v>^v>v><>v<><<v>^^^^^>>><<vv^v^<>vvvv><v>v>v<>>v^>^v<^v>>v<^<vv^v<>^<^^^>v^v^>>^>^vv^^^vv>^v>><>^><><^>v^^>v<>>^v<v^v^^>>^^>>v>^>>v^>^^^>^v<><^v<v><<^>vv<<><vv<v^v<^v><v^^^<<<v^<<>^>^<v<vv<<>^>v<<vv><^>vv<<^vv<^<>>>^<>>v>v>>><^v^<v<<<^^v^v^>^^<v<^<>v^^>vv^v^<^^>><^v<<>><><v^^><^^<<>>>^><^>v^<v^^><<<^<<v>v<>>><^>><<>>v^<^vv<><v>v^v<^><<v>v>><<^><><^^>><<>^^>v<^<vvv<vvv^^<v^>>^v<>v^vv^^v^vv^vv>v<^>v^<v<vv<<vv<^^>v^><^v<^^><vv>^v<v>>>>v^>>vv><v<v<v<^v>v><^><<<<<vv>v<<<>v>v<v><>^<v<^>vvv<<v><>^^<^<^<<v^v^^v<><^><v>^<^<^v>^<>>><v><v>v>v^<v>><vv>^>><^v>v<^^<><v>><<><^<<<>^vv>><<<v<^v^<v^>^<v<>^<>^^<v><^vv>><<><>v>v>>>>^<>v<vvv>vv^^^v^>>v><<^>>><>^v^v<>><<<>v>>><<<<><v>><^v><><^v<^><<<^vv<^vvv^<<<vvvvvvv>>vvv^<<<v^>^<<^<>v^<><<>>^<v<<<^><v^<>>>>^>v>^>^><<<^vv><^<<<^^<>>v^v<v^v><v>^v<^><^vvv<<^^^^vv>><vv<<><^>vv<v<^<^v<<^<v<v^<><v>>vvvv<^^<<^v<>^>^^v^v>v^^<v>>><>vv<v^v<^><><>^^^^^v^>^vv<^<^<v>^^>^<v<v<><>vv^<v^v^vvv>v^^v<<<v^v<v^><v^v<<<>^>v^><<v>>>vv>v^>><>^v>>v^` +
`<>^>><v^>v>v<<>^v>^>><<>^>v>^<v>v>v>v<v^v><<<<v<>>^^v^>v><<^^v<^^>><^vv><<^<v^><v>>v^<v^v<^>v^>^v^>v^v^>>>^<><<<>^>>>v<vvvv<<>>vvv<v><^^<<><^vvvvvv<<^v>^^^v^^>vvv>>v>^v^vvv^><>><^<^v<<>^^>vv<<<^<><^^v<^><>v^v<><>v>vv<v^>v>^^>^v<>><>vvv<^<v><<^>><^v^vvv><^><<^<^<v^v<v<<^vv<>v^^><v>>>>v^v<<><^><v^<<>v^^>^^<>^<>^^v<^<>>v>v>^<<v^^^v^>^^<<<vv>^^>>vv^^<>>^^<>v>>^>^v>^>v>v>>vv<>v^v>v^v>><<vv><>^^<><>^><v<<<v>v^<<<v>>>>vv^vv><^^>>v<v^<vv<^<>>>vv^<^<>^vv>vv<>v<^>^>vv^v<<<<>^>vv<<^v^v><^>vv^<><>^><v<>v<vvv^>v^^v<v^^v^^<<v<<vv>><v>>>^vv>>^>vv^><v^^^<vv><vv^^<^><vv^^<>><<<<<v<<v<v^>^<v><^<^^>v<<>v<<vv^<>v><<<>^<vvv>><^<^>^v><>>>>>^<<^<>v>^<^<<v><v>v<>^v<<^><<<^^>>vv>^<v><<><>v^<^<><><vvv><^^^<vvv>v>^v><v^^v^v<<^<^>>v^^>vv<^><><><>^^>^v>v<v^^<>^v^<><^<>>^^<>v<^v^^>^v<<<v<<v>v<>^<v>>^>v^vv<^^<v^>>^>><^><^v<v>v<>^v>^v<v>^<<<>>v>v<<>v^<<vv<^><^^^vv>^<<vv<^<v><v><^^^v<v^<<v<^^<>>^<<v>^<><^<vv^v<<<><<v>v>v><v>v<^^v<<v<<v^v^<<vv^vv^v>^^<<<<<vv^vv<^^><^^v><>v<^^^>>vvv<><^>^v<v<<^v<<^>^>^v>^^v>>vv>>v^><>^>` +
`v^><v^v<<<v<v<<<<<<v>^>>^><<v><><>v<<v>>><>v>^>^^<><<^<^>^^^^<<^vv<^<vvvv>^^vv^><<>>>vvv<>>^v>vv>>^^<vvv>v<<^<^>v<v^><>^<>^^vv^v><v<^>^<v<vv^>^^><>>>v^v<<><vv<<^^><>v^<^>v^^><<vv>v><>>^v>v<v>^<v^v^^<^<v<^^^<^<>v^<v<<>v>v^>v>v^>>^^^^^>^<<vvv<>^>^^vv<^^>>v^v<^><>vvv^^>^<v<<<>^<^^>>>v>>v<<^>v>><>^<>^v>^<<^<<>>>v^<>^<^v<<v^^vv<v><^^v><^vvv<v^<>><v<v^v<vv^^<^v^<v<>>>>>vvv^^^<vv^<^^>><^<><>v^><^<<v^v>^^<>>v^>^v>^>v<vv^>v<>^v<>><vvv><>^><^v<v^v^^><^<>^^v^>>>v^^vv>v^^<^>>^^^<>v^><<>^^<v><v^<<><><^v>^vv<<^<^<v>^<vv<<^^<>^v<vvv<>><v<>^^>>>^^><v><^vv<^v<<<<^vvvv^v<^v<>^vv^<^<<^<>v<v^v^^>^v^>>^>^>v<<^^vvv><><vv^v>v<v<<v><>>v^<>v^<v>v<<^<<^^>^v^^v<^<^vv^v>v^v<v<^>v<>v^^<^<^vv^^<^<^><v>>><>^<<v>^v^>^>v<>^><v<>^^v<<^<^^><^v>vv^<^<v>>>v>><vv^^>^^^>>><>v<<<^<^<vv^<>^v<^>>^>v^<<<<v^v>^<v<v^<>^<^v^>^>><<<v^vv^^^v<^>^>^<^^<v<^^^vv<>>>^>vv^<>>^^<><^^vv<>><>^><>^vv><^v>v^>vv>v^>v<^v>v^v>>v^vvvvvvv^<><vvvv^>v^>^^>v>^vvv^>v>v<><<<>><v><<<v<^^<>v^<>>^<<^^v>v>^v>v^^>^>^^^^^>v^<>^vvv><>vvv<<>^>v>vv^vv^v^>>^v><v^` +
`>v>v>vv^><^<><v^<^^>v<>^><^>v^<v^<^^^<^vv<v<>>>><<v><vvvvv<>v^>vv<v^^vv^v<>v^<>><<^v<>vvv^v>^<v>^>v<^^>><>^<<>v<^><v<^><<v>^v^<<^v<<<><^<><<<v^v^<>^<v^<^^^v<vvvv^vv^>^<vv>^>v<<>>^<<v^^^v^<vvv^v^v<<>vvvv>v^><v^v<<^<vv^v<<<>v^vv>^><v^<v>^^><^^v<>^<>v^v>^v<>^>>^v<^vvvv^>>><><<<>vvv>vvv<>>>v<vv>v>v<<v^<<<<^^<^^v^<>^<v>>^>v>^^>^^^v^^v<^>>>v^<vvv<vv<>v>>><v^><>^vv><v<^vv<v^^^^^vv<vv<<<>^^vvv>>v<^v><<^v>v<^<>^<vv>vv<^^^^v<><><<<<^>>v>v^>>><>vvv>>><<<>^<v><^><v><v^<>v<>^>^vv<^<^vvv^>^>>^<^^vv>^v^<>v><v<^^>v^<<v<<>><v><>>^^^v<>^^^vv^>^<<>^>v><>vv>>^<<>>v<<^vvv<<>^^><<>>v<^v><<>v><><<<v^^^vvv<<<v^><>>vvv<^<^>^^<^<>><v<v><<v><vv<>v<<^>vvv>>v<v<^><v>v^><vv^^><<<^><<>v<<<^^v<<v<>^^<>>>^v>v>>>^>><<<^^^^>>v^<^^<<^>>v><<^>>>^^^^^<>^<^<vv^>^<<^v<v^v<^>>v>>v>^v^v<>^>^^>v<>v<<^v>^<<v><^<v>>>v<vvv^<<^<^>^v><>><<^^vvv^v>v>^<v<><<<v>v^<vv>^<<<>^><>^<v^>>vvv^>^>>^v>><^v>v<^>^^><^<v^vvv<<<>v^vv<^^<>v<>^<<>v>>^<^^vv<<<>^^^^<v>^<>>v^vv^v<>>><<>^^<^vvvv^>v<^<<><<^>^^v^<<^<v><^v^^v>><v^^v<v>><>>>vv^>>>^<>^^<<^^^>` +
`^^<v<>>>>vv^^<<>v>^^v><<<>^<<><<vv<v<<>v>vv^>^<<<<>><^^^v<^v><><^<>^^v><<<vv<<v^>^v^>>^<>^<<>>>>>^>v<<v^>^<v^^^><>>>^v<v<^^v>^>v><<^^<<v><><^vvvvv^<<v>^>>><^<<><^>^<^><<><<v^vv><<^^<v><^vv<>>^^>^v<><>vv^v<^<<><<><<><v^vvv^vv<^<<<v>>><<^><^vv<<^v>>><><v^^^v<>>^v<<>v>vvv<>^>^v<v>^v>v>v<>v>><><^<^v^<v<v^>>>^>v>>>^^>>>v^<<^v<<^^>v>v<^<v<<>^<><>vv>>>^^<^^<<>vv<<<v<><<^^^<vv<^>^>>>^v^^<>><<^v^<>v^^v<^^<v^>>v>>v>><>v<^^v<<<<>v^v><>>^>^>>^v><^><>^>^<<^v<v<^<<vv^^<>>><^><^^<<<^^>v>^>><<<vv^^v^<^<>^v^<>>>>^vvv><^v^v<v<^<v^><v^^><vvv<<>^>^vv<>v>v><<>>vv<^vv^v^<<<><^><vv>v^<^<v^v<vvvvv>vv^>><^>><>>>>^vv^^>><v>>>^<>^^^<><vv>vv<^<v>><<^<^v<>^<<<^vvv>>><<v^^<vv>>>v^v>^>^><v>^vv<><^v>^^>^<v>v<>>>v>v<<vv>^><v>><v^>v>^<^v^<^v<>>vvv>^^^<v^<<<^<><v^^>^<<vv^<^^^^>><^>^><>^^^>>>^^vv>^<v>v^<<>>v^^<<><^v^>>^<v>>v^>^<>><^><<>^<v>vv<vv>^>>vvv^<<vv>v<>>><>vvv>v<><^>>>v^^^^>>>>^v<^vvv<^vvvv>>^><v^>>^<^<>^<<^><v<v>^v^<^>v^^^v<v>><v<>^v^v<><v>>^^v^<^^^^><v<^^v>^<<^<>><^v><v^<<<>v<^^^vv<v>^<^v<>vv>^<^>v<<v^v^<>v^v<v` +
`^^<<<vv^>>^<v<<>v>>v^>>v><vvvv<v<><v^v^^<>v>>^^<^v<>v<>>>v<^v^<v>^^^<<<^>^^v^vv>^<<v><><>vv<^^^v^^vv>^vv^^>vvvv^vv<vv>v<>v^^v<<>^<>^v<<>vv^>><v<<^vv<>v^^>>><><^^<v<<vvv^>^<>^<>^<><^><<<v><>^v^^v>^<><^><<^>^v<<>^><>^>vv^^<<vvv<v^v<<<>><v>^v^^^>v>^<<^<v<v^<^<v>>v^<^^^>>^>v<^<><^v><^^v<v^<><<>>vv>v<<<v^vv>^^><>^<^>v^^<^^<<<<<^v^>v<>v^<>>>>v<>>v><<^^^>><>^v^^v^><^^v<^v>vv>v<^v<<v<vvvvv^<><v^<><<<^<<v<v^^<^v^>><>>><>^v^>>v<>>v^>^<^^<v^>v><^v^^vv>^<vv<>>vvv<>^^<<vv^v<v<<vv>><v^<vv^<v<<><v<vv<^v>>^^>>^>v^<v<vvvv<>^v>v^<^v<^><<^v<>>^^<>v><>v^>vvv>vv^^<v>^^^<^v^^v>v<v>>^v^v^v^<<v>>^><v<>^vv><^><>>>^<^>^^vv<v^^^^v>>>^^^><v^><v^^^v<>v>^>vv^^v^>v><<^>v><vv^v^>^v<<vv^^<^v>vv><<v<v><v^v^v><^>^^^^><>v<<v^^v>v><><>><>>^^>>><<<>v<^^vv^>vv^v^>^^>>^^<<>vvv<<<v><vv>><<vv^vv<>^^<^v^v>^^<^v>>>^<^<>^^<>^<<<<>><^<v><<^>^^v>^><<v^>>^^^v><<<vvvv^<v>^v<><^>>vv><^>>>^<>v^<<<>^^v^v><^><^^v<^vvvv<><<^>>>^<v^^<<vv>><<><<><<^>v<>>^><^^^vv^^v<^>v>><^^<^>^<v>^v^<^><<>^v><><^v^<^v^>><v>^v<vv<^v^^v^^vv>vv>>^>>><v<><>><v<` +
`>^<v<v<<<<^v^vv>><^>^^<^vv>^>v>^^<^^<v^>>^vvv><^v>^v>vvv>v>^<^^v^vv^v^v>><<vv>vv<vvv>>>^^>^><<^>^<vv^>v<^^v^>vv<^v<>>vvv^^<>>^v^>^^>^^><>^>v>><^<^><v<^<^v^><v><<<^v>^>^<^>v<vv<>^v^^>>>><v>>^>^><^>^>>^vv^<vv><v^^^>^^v>^v<>>v<><<vv><^^^^^<v^>v>^^<<<>^<><^>^v<<>^^>^^^v<>v><>^<<>^v^<<vv>^<v<^<v^><vvvv<<>><vv<<>v>vvv^^^^v<^^<^<>>^><>v<^^>^^^^v^<>><^>^^^<^vv>^>^^^>v^v>^v><>^^<>v^<>^^<>v^^v^<><^<v^>>^<<<<vv>v><<<vvv>^<^<^>^^<<v<><>^<v<^^>>^^>v^<<<vv>v>^>>^^>^>>>>v>>^<<>vv<^v^>^>>>>^<v><<<><v>><>v<><>>v^v>v^^<v^<vv<<<v>^^v>>>^<^vvv^vvv^>v>>^>v<>>v^<^v><><<vv^^<>v>^v>v>><v^<v^v>^<^v>vv^<<>>>^vv>><>^<v<<<<v^^>><<<^><^><^v>><<^^^v<<^vv^^><<<v^<><<^<>^><v>v^v^v>^<>vvvvvvv^>^>^^>v<><^><<>^vv<>^v<v^v<>v<<><v<><v^vv>v<^v^^<vv^>>vv<v<<>>^^>v>^^vv^>><^v^^^^<v<vv^v^<<<>v<<^^^vv>^^vv>>>^^<<^v<>>v<vv>>>vv<^^<>>^>vv^>>><<>^>v>vv<^<>vv>v^^<<^^^vv<>^^v^<^>^^>>>v>>^>^v<^><^<>v^v<v^<>>><^<^^<^^>^^>vv^>^><<<v^>^^^vv>><vvv^v>>^vv^<<v>vv>^<>^><v>vvv>^>>><v<^<<>vv>>>^<v^v<v<^^^<v^vvvv^^^^v<>><vv^vv<>vv<<<<<<v^^^^^` +
`<<^vv^^vv^><><<>>><<<^>^<^v>v>^><>>>^>vv>v^<<<vv>>^^^v<>v>vv<<<vv<<^v>v<^<v<^>^>v><^<>v><<><v<>>>v>v^v>v>v^^^v^v>vv^^>^><v^<<v^v>>^><v^^<<v^^^<^^^vvv<<^>^^<^^<^<<^^<v<<v<>v><v<>v^^^<vv^vvvvv>^v>vv^^>>vv><<^<v<^^>^<><v>><^^^^v>^>v^><v^>v>>><>^^v^<><>^><<<>^<^^>^>vv<>>^v<<^<>>>v>vv<vv><<vvv<<v<<<>^>>>v<<^^v^v<vv<v^^<>^^^<<^^v<^v^^><^^^>vvv<v<v>v^vv>><<><><vv><<><v>^<<>^^^>^^<^<^>^<><>v^^><^<^vvvv>v<v<>^^v<^>v><><^^^>>>>v^<<<<vvv>><>v<v<>^><^v>>v^>v^><v<v><^<>^^^<^<<>^<<<v<v^<>^^>v<^>^<^<^^vv>v<vv>><^<v^v^v<>vv^>v<^^^<v<v<>>>v<>>^^^<<^^v<<v><<>vvv^>^^<^>^vv>v><^<^<>>><<v<<>v>^>v<<>>^<^>v>^^<^><<<<v^v^<^>^^>>v<v><>>>^^>^>>vv>v^v^<v<<<><>>^^>v<^^>v<v<<<^v^^>v<v<v<>^<^v^vvv<<>^<>^v><vvv^^^v>v<<^v<>>vv^^^v^<vv^<<><^^^v^>>><<<v^<<^v<<v<><^>vv><<><v<v><<v><<>^v<>v^><v^v^<>v^>>^>><v<v<<<>v<^>^<v<^<v>v<><<<^^>^>^v<<v>^<<v>><^><^^<<^>>>>>^>^><^<^^^<v^^v<v<v^^v>vv^<^v<><>^><<>^<^^vv<><>>>^<v<^v>vvv<>^<<<>^^<^^^v<v<><<^>^>vv>>^vv^^>^^<^vv<<>>>vv<^<<^vvv^<^^v^<v>vv<v><><>^>^^<<<^<v<v^^>><v^^vv>><>>^>` +
`>vv^>v<<<>^>>>^^>><>vv<vv>^>^v^^^^v^v^>^><<v<v>>^<>v>vv>v^>^<<vv^<^v>vv^v><>>>>>^^<^><>v>vv>v<^>vvv><^^^>^^>><>>^^vv><v^v^<^<v^^v^><<^<v<<v^<>^^v^v^<>vvvvv<^vv><<vv<<<vv>^^^>vv<><><^v<><v<v<<v>>v>^^vvv<^^<<<><>^^><^v>^^<^>v<v><v<v^<^^>>>><<v><<>>^>vv>><vv<^>v>^<<v>><vv^>^v^<^>>><><v^<><^v>^^>vvv><vv^><v<vv^><<^v^^^vvv>>^>^v<vv<^<^^v>^<v^^v<<^v>^<<>>v^<^<^>>^^<v>v^^v^<>^v<v<>><^>>>>>>v<<<<>^^v><<>v^vv<<>^<^>>v>><^vv>^>vv^<v>^^<v^^>>^>>>v^^>^^><^v<><>^^>>>^v>^><<^<>^^^>^v>><v><>>v^>vv^^v<<><v^^^^^vv>^<^<v^<vv><>v><v^vv>v<<>v><<vv<^<v^<^>>^>^><^v^v>^v>><v^v>v<v<^v^vv>v<^vv<vvv<v^>^<^>vv<^^>^<^<v><^><<<>>^<<^^<^<v<vv<<^>v<v>>v^>^>^><<>^<>^^>v<<>><^v>>v>>>>>>>v^v<<^<^><^^<<v<vvv^>>v<<><><<v^^vvvv^<^<<>^<>><v>>^><^v<^>v<^><><<<>>><>v^^<<^<<<>^^<^^^^>^<>>v^^vv<vvv><>vv>>>>>>^v<>v^^<<>^<^><v^<^^><v>v^<<^<^>vv>^^>vv^>^v>vvv^>^>>>>><<<>vvvv<^>>>>v>^<v>v<v>^<^^v<<><^v<<>>v<v<v^^>vv>vvv<><>vv<<<^^>>>>v<>^>^v<v^vv^v^<^>vvv>v>^^v^v<>vv>>><^<>>v>vvv^>vv<<v>^^>>^^^>><><v^<^^v>vv<^^v^<v^v^v<<<^^v<v>^<>`

const map = [
    [
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#'
    ],
    [
      '#', 'O', 'O', '.', '.', 'O', 'O', '.',
      '.', 'O', '.', '.', '.', '.', 'O', '#',
      '#', 'O', '.', '.', '.', '.', 'O', '.',
      '.', '#', '.', '.', '.', 'O', '.', '.',
      'O', '.', '.', '.', '.', '.', '.', '.',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      'O', '#'
    ],
    [
      '#', '.', 'O', 'O', '.', 'O', '.', 'O',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      '.', '.', 'O', '.', '.', '.', '.', '.',
      '#', 'O', '.', '.', '.', '.', '#', 'O',
      '#', '.', '.', '.', '.', '.', '.', '.',
      'O', '.', 'O', '.', '.', '.', 'O', '.',
      '#', '#'
    ],
    [
      '#', 'O', 'O', '.', '.', 'O', '.', '.',
      'O', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', 'O', 'O', '.', '.', '.', '.',
      '.', 'O', '#', '.', '.', 'O', 'O', 'O',
      '.', '.', 'O', '.', '.', '.', '.', '.',
      '#', '.', '.', '.', '.', 'O', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', 'O', '.', '.', '.',
      '.', '.', '.', '#', 'O', '.', 'O', '#',
      '#', '.', '#', '.', '.', 'O', '.', 'O',
      '#', '.', '.', 'O', '.', 'O', '.', '.',
      '.', '.', 'O', '.', '#', '.', '#', '.',
      'O', 'O', '#', 'O', '.', 'O', 'O', '#',
      'O', '#'
    ],
    [
      '#', '.', '.', '.', '#', '.', '.', '.',
      'O', '.', '.', 'O', 'O', '.', '.', '.',
      '.', '.', 'O', '.', '.', '.', '.', '.',
      '.', '.', '.', '.', 'O', 'O', '.', 'O',
      'O', '.', 'O', '.', '.', '.', '.', '.',
      '.', '.', '.', 'O', '.', '.', '.', '#',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '#', '.', '.', '.',
      '.', 'O', '.', '.', '.', 'O', '#', '#',
      'O', '.', '.', '.', 'O', '.', '.', '.',
      '.', '.', 'O', '.', '.', '.', '.', '#',
      '.', '.', '.', '.', '.', 'O', '.', '.',
      'O', '.', 'O', '.', 'O', '.', 'O', 'O',
      'O', '#'
    ],
    [
      '#', '.', 'O', '.', '.', '.', 'O', '.',
      '.', '#', '.', '#', 'O', 'O', '.', 'O',
      '.', '#', '#', '.', '.', '.', '#', '.',
      '.', '.', '#', '#', 'O', '.', '.', '.',
      '.', 'O', '.', '.', '.', '#', '.', '.',
      '.', '#', '.', '.', '.', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', '#', '.', '#', '#', '#', '.', 'O',
      '.', '.', '.', '.', '.', '.', '#', '.',
      '.', 'O', '.', '.', '.', 'O', '.', '.',
      '.', '.', '#', '.', '.', '.', '.', 'O',
      '.', '.', '.', '.', '#', 'O', '.', '.',
      '.', '.', '.', 'O', '#', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '#', 'O', '.', 'O',
      '.', '.', '.', '#', 'O', '.', '.', 'O',
      '.', 'O', '.', '.', '.', '.', '.', '.',
      '.', '.', '.', '.', '.', '.', 'O', 'O',
      '.', 'O', '.', '.', 'O', '.', '.', '#',
      '.', '#', '#', '.', '.', 'O', '.', 'O',
      'O', '#'
    ],
    [
      '#', '.', '.', '.', 'O', 'O', 'O', '.',
      '.', '.', '.', '.', '.', '.', '.', '.',
      '.', '.', '.', '#', 'O', 'O', '.', '.',
      '.', '.', 'O', '.', 'O', '.', 'O', '#',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      '.', '.', '.', '.', '.', '.', 'O', '#',
      '.', '#'
    ],
    [
      '#', '#', '.', '.', '.', '.', '.', '.',
      '.', '.', '.', '.', '.', '.', '#', 'O',
      '.', '.', '.', '.', '.', 'O', '.', '.',
      '.', '.', '.', '.', 'O', '.', '.', 'O',
      '.', 'O', '.', '#', '.', 'O', 'O', '.',
      'O', '.', 'O', '.', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', '.', '.', 'O', '.', '.',
      '#', '.', '.', '.', 'O', '.', '.', '.',
      '.', 'O', '.', '.', 'O', '.', '.', '.',
      'O', 'O', '#', '.', '#', 'O', 'O', '#',
      '.', '.', '.', '.', '.', '.', '.', '.',
      '.', '#', '#', '.', '#', 'O', '.', '.',
      '#', '#'
    ],
    [
      '#', 'O', '.', '.', '.', 'O', '.', '.',
      'O', '#', 'O', '.', '.', 'O', '#', '.',
      '#', '.', 'O', '.', 'O', '.', '.', '.',
      'O', '.', 'O', '.', '.', 'O', 'O', 'O',
      '.', 'O', '.', '.', '.', '.', 'O', '.',
      '.', '.', '.', 'O', '.', 'O', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', '#', '.', '.',
      '.', '#', '.', 'O', '.', 'O', '#', 'O',
      '.', '.', 'O', '.', '.', 'O', 'O', 'O',
      '.', '.', 'O', '.', '.', '.', '.', 'O',
      '.', '.', '.', '.', '.', '#', '.', '.',
      '.', 'O', '.', '.', '.', 'O', '.', '#',
      '.', '#'
    ],
    [
      '#', '.', '.', 'O', '.', '.', '.', '#',
      '.', '.', '.', 'O', 'O', '.', 'O', '.',
      'O', '.', 'O', 'O', 'O', '.', 'O', 'O',
      '.', '.', '#', '.', '.', 'O', '.', '.',
      'O', 'O', '.', '.', '.', 'O', '.', '.',
      '.', '.', '.', '.', 'O', '#', '.', '.',
      'O', '#'
    ],
    [
      '#', 'O', '.', '.', '.', '.', '.', 'O',
      '.', 'O', '.', '.', '.', 'O', '.', 'O',
      '.', '#', '.', 'O', '.', '.', '.', '.',
      'O', '.', '.', '.', '.', '.', 'O', '.',
      '.', '.', 'O', '.', '.', '.', '.', 'O',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', 'O', '.', '.', 'O', '.', '.',
      'O', '.', '#', 'O', '.', '.', 'O', '.',
      '.', '.', 'O', '.', 'O', '.', '.', 'O',
      '.', '.', 'O', 'O', '.', 'O', 'O', '#',
      '.', '.', '.', 'O', '.', 'O', '.', '.',
      '.', '.', '#', '.', '#', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', '.', '#', 'O', '.', '.',
      '.', 'O', '.', 'O', '.', '.', '.', '.',
      '.', 'O', '#', 'O', 'O', '.', '.', 'O',
      '.', '.', '.', '.', '.', '.', '.', '#',
      '.', 'O', 'O', '.', 'O', 'O', 'O', 'O',
      'O', 'O', 'O', '#', '.', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', 'O', '#', 'O', '.', '.', '.', 'O',
      '.', '.', '#', '.', '.', '.', 'O', '#',
      'O', '.', 'O', '.', '.', '.', '.', '.',
      '.', 'O', '.', '.', 'O', 'O', '.', '.',
      '.', 'O', '.', '.', '.', '.', '.', 'O',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', '.', '.', '.', '.', '.',
      'O', '#', '#', '.', '.', '.', '.', 'O',
      '#', '.', '.', '.', '.', 'O', '.', '.',
      '#', '.', 'O', 'O', 'O', 'O', '.', 'O',
      '.', 'O', '.', '.', '#', 'O', 'O', '.',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', 'O', '.', '.', 'O', 'O', '.', '.',
      '.', '.', '#', '.', '#', '.', '.', '.',
      '.', '.', '.', '.', '.', 'O', '.', '.',
      '.', '.', 'O', '.', '.', 'O', '#', '.',
      'O', 'O', '.', '.', '.', '.', '.', '#',
      '.', 'O', '.', 'O', 'O', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', '.', 'O', '.',
      '.', '.', '.', '.', 'O', 'O', '#', 'O',
      'O', '.', '.', '.', '.', 'O', '.', 'O',
      '.', '.', '.', '#', '.', '.', '.', '.',
      '.', 'O', 'O', '.', 'O', '.', '.', '.',
      'O', '.', '.', '.', '.', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', '.', 'O', '.',
      'O', '.', '.', '.', '.', '#', '.', '.',
      '.', '.', '.', '.', 'O', '.', '.', 'O',
      '.', '.', 'O', '.', '.', '.', 'O', '.',
      '.', '.', '.', '.', 'O', '.', '.', '.',
      '.', 'O', '.', '.', '.', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', '.', 'O', '.', 'O', '#', '.', '.',
      '.', '.', '.', '.', '.', '#', 'O', '.',
      '.', '.', '.', 'O', '.', '.', 'O', 'O',
      '@', '#', '.', '.', '.', 'O', '#', '.',
      'O', '.', '.', '.', 'O', 'O', '.', '.',
      '.', 'O', 'O', '.', '#', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', 'O', 'O', '.', '.', '.', 'O', 'O',
      '.', '.', '#', '.', '#', '.', '.', '.',
      'O', 'O', '.', '.', '.', '.', '.', '#',
      '.', '.', '.', '.', 'O', '.', '.', '.',
      '.', '.', 'O', 'O', '.', '.', '.', '.',
      'O', '#', '.', '.', '#', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', 'O', '.', '#', '.', 'O', '.',
      '.', '.', '.', '.', '.', '.', '#', '.',
      '.', '.', '.', '.', 'O', '.', 'O', '.',
      '.', '.', '.', '.', '.', '.', 'O', '.',
      '.', '.', 'O', '.', '.', '.', '.', '#',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', 'O', 'O', 'O', '.', 'O', '.',
      '.', '#', '.', '.', '.', 'O', '.', '.',
      '.', 'O', '.', '.', '#', 'O', '.', '.',
      '.', '.', '.', '.', 'O', '.', '.', 'O',
      '.', 'O', '#', '#', '.', '.', '#', '.',
      '#', '#', '.', 'O', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', 'O', '#', '.', '.', 'O',
      'O', '.', '.', '.', '.', '.', '.', 'O',
      'O', '.', '.', 'O', 'O', '.', '.', 'O',
      '#', '.', '.', '#', 'O', '.', 'O', '.',
      '.', '.', '#', 'O', '#', '.', '.', '.',
      '.', '.', '.', '.', '.', '#', '.', 'O',
      'O', '#'
    ],
    [
      '#', '.', '.', 'O', '.', 'O', '.', '.',
      '.', '.', '.', '#', '.', '.', '.', 'O',
      'O', 'O', '.', '.', 'O', 'O', '.', '#',
      '.', '.', '.', '.', '.', 'O', 'O', '#',
      '.', '.', '.', '.', '.', '.', '.', '#',
      'O', 'O', 'O', '.', '.', 'O', '.', '.',
      'O', '#'
    ],
    [
      '#', 'O', '.', 'O', '.', '.', 'O', 'O',
      '.', '.', '.', 'O', '.', '.', 'O', '.',
      'O', '.', '.', '.', '.', 'O', 'O', '.',
      '.', '.', 'O', '.', 'O', '.', '.', '.',
      'O', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', 'O', 'O', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '#', '.', '.', '.', 'O', '.', '.',
      '.', '.', '#', 'O', '.', '.', 'O', 'O',
      'O', '.', 'O', '.', '#', '.', 'O', 'O',
      '.', '#', '.', '.', '.', '.', '.', '.',
      'O', '#', '.', '.', 'O', '.', '#', 'O',
      '.', '.', '.', '#', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', 'O', '.', '.', '.',
      'O', '.', '.', '.', '.', 'O', '.', '#',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      'O', '.', 'O', 'O', 'O', '.', '.', 'O',
      '.', 'O', '.', '.', '#', '.', '#', 'O',
      'O', '#'
    ],
    [
      '#', '.', 'O', '.', '#', '.', '.', '.',
      '.', '#', '.', 'O', '#', '.', '.', '#',
      'O', '.', '.', 'O', '.', '.', '.', '.',
      '#', '.', '.', 'O', 'O', '.', 'O', '.',
      '.', 'O', '.', '.', 'O', '.', '#', '.',
      '.', '.', '.', '.', '.', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', 'O', '#', 'O', '.', '.', '.', 'O',
      '.', '.', '.', '.', '.', 'O', '.', 'O',
      '.', '.', '.', '.', '.', '.', '#', 'O',
      'O', 'O', '.', 'O', '#', '.', '.', '.',
      '.', '.', '.', '.', 'O', '.', '.', '.',
      '.', '#', 'O', '.', '#', '.', '#', 'O',
      '#', '#'
    ],
    [
      '#', 'O', '.', 'O', '#', '.', '.', 'O',
      '.', '.', '.', 'O', 'O', '.', '.', '.',
      '.', 'O', '.', '.', '.', '.', '.', '.',
      'O', '.', 'O', '.', '.', '.', '.', '.',
      'O', '.', '.', '.', '.', '.', '.', 'O',
      '.', 'O', 'O', 'O', '.', '.', '.', '.',
      'O', '#'
    ],
    [
      '#', '.', '.', '.', '.', '#', 'O', 'O',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', '.', '#', 'O', 'O', '.', 'O',
      '.', 'O', '.', '.', '#', '.', 'O', '.',
      '.', '.', '.', '.', '.', '#', '.', '.',
      '.', '.', '.', 'O', '.', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', 'O', '.', '.',
      '.', '.', '.', 'O', 'O', '.', '.', '.',
      '.', 'O', 'O', 'O', '.', '.', 'O', '.',
      'O', 'O', '.', '.', '#', 'O', 'O', '.',
      '.', 'O', '.', '.', '.', '.', '.', 'O',
      'O', 'O', '.', '#', '.', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '#', '.', '.', 'O', 'O', 'O', '.',
      '#', '.', 'O', '.', '.', '.', '.', '.',
      '.', '.', '.', '.', '#', '.', '.', 'O',
      '.', '.', 'O', '.', '.', 'O', '.', '.',
      'O', '.', 'O', '.', 'O', 'O', 'O', 'O',
      '.', '.', '#', '.', '.', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', 'O', 'O', '.', '.',
      '.', '.', 'O', 'O', 'O', '.', '.', '.',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', '.', 'O', '.', '.', '.', '.',
      '.', '.', '.', '#', '.', '.', '.', '.',
      '.', '.', '.', '.', 'O', '.', 'O', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', 'O', '.', '.', '.', '#',
      'O', 'O', 'O', '.', '.', '.', '.', 'O',
      '.', '#', '.', '.', '.', 'O', '.', '.',
      '.', 'O', 'O', '.', '.', '.', 'O', '.',
      '.', '.', '.', 'O', 'O', '.', '.', '.',
      '.', '.', '.', '.', '#', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', '.', '.', '.',
      'O', '.', 'O', '.', '.', '#', '.', '.',
      '.', 'O', 'O', 'O', '.', '.', '#', '.',
      '.', 'O', '.', '.', 'O', 'O', '.', '.',
      'O', '.', '.', 'O', '.', 'O', 'O', 'O',
      'O', '.', 'O', '.', '.', 'O', 'O', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', 'O', '.', '.', 'O', '.',
      '.', 'O', '.', '.', 'O', '.', '#', '#',
      '.', 'O', 'O', '.', '.', '.', '#', '.',
      '.', 'O', '#', '.', '.', 'O', '.', '#',
      '.', '.', '.', 'O', 'O', 'O', '.', '.',
      'O', '.', '.', '.', '.', '.', '.', 'O',
      '.', '#'
    ],
    [
      '#', '.', '.', '.', '.', '.', 'O', 'O',
      '.', '.', 'O', 'O', '.', '.', '.', 'O',
      '.', '#', '.', 'O', '.', '.', 'O', 'O',
      'O', '.', '.', 'O', 'O', 'O', '.', '.',
      '.', '.', 'O', 'O', '.', '.', '.', '.',
      '.', '.', '.', '.', '.', '#', '.', 'O',
      '.', '#'
    ],
    [
      '#', '.', '.', 'O', '.', '.', '.', '.',
      '.', 'O', '.', 'O', '.', '.', 'O', '.',
      '.', '.', 'O', '.', '.', '#', '#', 'O',
      'O', '.', '.', '.', '.', 'O', '.', '.',
      '.', 'O', '.', '.', '.', '.', '#', '.',
      'O', '.', 'O', '.', '.', '#', '.', 'O',
      'O', '#'
    ],
    [
      '#', '.', '.', 'O', 'O', '.', '.', '.',
      '.', '.', '.', '.', 'O', '.', '.', 'O',
      '#', '.', 'O', 'O', 'O', '.', '.', '.',
      '.', '.', 'O', '.', '.', '.', '.', 'O',
      '.', '.', '.', '#', '.', '.', 'O', '.',
      'O', '.', '.', '.', '.', '.', '#', 'O',
      '#', '#'
    ],
    [
      '#', '.', '.', '.', 'O', '.', '.', '#',
      '.', '.', '.', 'O', '.', '.', 'O', '.',
      '.', '.', '.', '.', '.', '.', '.', '#',
      '.', '.', '.', 'O', 'O', '.', 'O', '.',
      'O', '.', '.', '.', '#', '.', 'O', '.',
      '.', '.', '.', '.', 'O', '.', '.', '.',
      '.', '#'
    ],
    [
      '#', 'O', '.', '.', '.', '.', 'O', '.',
      'O', '#', '.', '.', '.', 'O', 'O', '.',
      '.', '.', '.', '.', '.', 'O', 'O', '.',
      'O', 'O', '.', '.', 'O', '.', '.', '.',
      '.', '.', '.', '.', '#', '.', '.', '#',
      '.', '#', '.', '.', 'O', 'O', '.', '.',
      '.', '#'
    ],
    [
      '#', '.', '.', '#', '.', '#', '.', '.',
      '.', '.', '.', '#', '#', '.', '#', '#',
      'O', '.', '.', '.', '.', 'O', '.', '.',
      '.', 'O', '.', '.', '.', '.', '.', '.',
      '.', 'O', '.', '.', 'O', 'O', '.', '.',
      '.', '.', 'O', '.', '.', '.', 'O', 'O',
      '.', '#'
    ],
    [
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#', '#', '#', '#', '#', '#', '#',
      '#', '#'
    ]
  ]

enum Direction {
    UP = '^',
    RIGHT = '>',
    DOWN = 'v',
    LEFT = '<'
}

enum MapObject {
    OPENING_BOX = '[',
    CLOSING_BOX = ']',
    ROBOT = '@',
    ROAD = '.',
    WALL = '#'
}

class Solution {
    currentCol = 0;
    currentRow = 0;
    map: string[][] = [];
    private getRobotCoordinate(map: string[][]): number[] {
        for (const [row, rowVal] of map.entries()) {
            for (const [col, colVal] of rowVal.entries()) {
                if (colVal === MapObject.ROBOT) {
                    return [row, col];
                }
            }
        }
        return [0, 0];
    }

    private fileToArray(filename: string) {
            return fs
                .readFileSync(filename, "utf8")
                .split("\n")
                .map((line) => {
                    return line.split("");
        });
    }

    private searchRoad(coord: number[], instruction: Direction) {
        
    }
    
    private moveRobotAndBoxes(startRow: number, startCol: number, instruction: Direction) {
        if (instruction === Direction.UP) {
            // move up / ignore 
        } else if (instruction === Direction.RIGHT) {
            // move right / ignore
        } else if (instruction === Direction.DOWN) {
            // move down / ignore
        } else if (instruction === Direction.LEFT) {
            // move left / ignore
        }
    }

    private moveUp() {
        // find all the boxes connected, find if there is no obstacles for those
        // move them up
        let searchRow = this.currentRow;
        let searchCol = this.currentCol;

        let movableObjects = [[this.currentRow, this.currentCol]];
        while (movableObjects.length > 0) {
            searchRow--;
            if (this.map[searchRow][searchCol] === ']') {
                movableObjects.push([searchRow, searchCol]);
                movableObjects.push([searchRow, searchCol - 1]);
            } else if (this.map[searchRow][searchCol] === '[') {
                movableObjects.push([searchRow, searchCol]);
                movableObjects.push([searchRow, searchCol + 1]);
            }
        }
    }

    private collectUp(row: number, col: number) {
        
    }

    private moveRight() {
        // move all the way if you find there's a road;
        let searchRow = this.currentRow;
        let searchCol = this.currentCol;

        // search for road, if there's wall then ignore;
        while (this.map[searchRow][searchCol] !== MapObject.ROAD) {
            const mapObject = this.map[searchRow][searchCol];
            if (mapObject === MapObject.WALL) {
                return;
            } else if (mapObject === MapObject.OPENING_BOX || mapObject === MapObject.CLOSING_BOX) {
                searchCol++;
            }
        }

        // move all the way to the road;
        while (searchCol > this.currentCol) {
            this.map[searchRow][searchCol] = this.map[searchRow][--searchCol]
        }

    }

    private moveDown() {
        let searchRow = this.currentRow;
        let searchCol = this.currentCol;

        // search for road, if there's wall then ignore;
        while (this.map[searchRow][searchCol] !== MapObject.ROAD) {
            const mapObject = this.map[searchRow][searchCol];
            if (mapObject === MapObject.WALL) {
                return;
            } else if (mapObject === MapObject.OPENING_BOX || mapObject === MapObject.CLOSING_BOX) {
                searchRow++;
            }
        }

        // move all the way to the road;
        while (searchRow > this.currentCol) {
            this.map[searchRow][searchCol] = this.map[--searchRow][searchCol]
        }
    }

    private moveLeft() {
        // move all the way if you find there's a road;
        let searchRow = this.currentRow;
        let searchCol = this.currentCol;

        // search for road, if there's wall then ignore;
        while (this.map[searchRow][searchCol] !== MapObject.ROAD) {
            const mapObject = this.map[searchRow][searchCol];
            if (mapObject === MapObject.WALL) {
                return;
            } else if (mapObject === MapObject.OPENING_BOX || mapObject === MapObject.CLOSING_BOX) {
                searchCol--;
            }
        }

        // move all the way to the road;
        while (searchCol < this.currentCol) {
            this.map[searchRow][searchCol] = this.map[searchRow][++searchCol]
        }
    }

    public solve() {
        const fileMap = this.fileToArray('sample.txt');
        this.map = fileMap;
        const [row, col] = this.getRobotCoordinate(fileMap)
        this.currentRow = row;
        this.currentCol = col;

        for (const dir of instruction) {
            // move the robot
            this.moveRobotAndBoxes(this.currentRow, this.currentCol, dir as Direction)
        }
    }
}

const sol = new Solution();
sol.solve()



